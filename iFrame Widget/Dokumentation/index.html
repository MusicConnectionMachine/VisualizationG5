<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>MusicConnectionMachine Widget</title>

        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

        <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
        <link href="style.css" rel="stylesheet">
    </head>
    <body data-spy="scroll" data-target="#navbar">
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#">MusicConnectionMachine Widget</a>
                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="navbar">
                    <ul class="nav navbar-nav navbar-right" id="navItems">
                        <li><a href="#features">Features</a></li>
                        <li><a href="#demo">Demo</a></li>
                        <li><a href="#embedding">Embedding</a></li>
                        <li><a href="#embeddingToComponent">Component Instructions</a></li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>

        <div class="container" id="content">
            <div class="card" id="features">
                <div class="page-header">
                    <h1>Features</h1>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <h2>Timeline Component</h2>
                        <p>
                            The Timeline Component presents all the interesting events and life stations of composers. Here you can have access to very interesting facts - illustrated in a very lovely and easy understanding way.
                        </p>
                    </div>
                    <div class="col-sm-6">
                        <h2>Relations Component</h2>
                        <p>
                            The relations component is a great way for users to explore interesting but less known facts about music pieces, composers and musicians. Users have the possibility to search and browse through all the relations and related entities of a given entity of interest.
                        </p>
                    </div>
                    <div class="col-sm-6">
                      <h2>Map Component</h2>
                      <p>
                          The map component allows users to discover the places related to music pieces, composers and musicians.
                      </p>
                    </div>
                </div>
            </div>
            <div class="card" id="demo">
                <div class="page-header">
                    <h1>Widget Demo</h1>
                </div>
                <div id="timelineComponent">
                    <h2>Timeline Component</h2>
                    <iframe src="" style="width: 100%; height: 400px;" id="timelineWidget">
                    </iframe>
                </div>
                <div id="relationsComponent">
                    <h2>Relations Component</h2>
                    <iframe src="" style="width: 100%; height: 400px;" id="relationsWidget">
                    </iframe>
                </div>
                <div id="mapComponent">
                  <h2>Map Component</h2>
                  <iframe src="" style="width: 100%; height: 400px;" id="mapWidget">
                  </iframe>
                </div>
            </div>
            <div class="card" id="embedding">
                <div class="page-header">
                    <h1>Embedding the Widget on your Website</h1>
                </div>
                TODO
            </div>
        </div>

        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script>
          function startUpWidget() {
            const timelineWidget = document.getElementById("timelineWidget");
            const relationsWidget = document.getElementById("relationsWidget");
            const mapWidget = document.getElementById("mapWidget");

            let widgets = {
              timeline: timelineWidget,
              relations: relationsWidget,
              map: mapWidget,
            };
            timelineWidget.src = "http://mcmwidgets.azurewebsites.net/widgets/timeline-app.html?imslp=usemockups";
            relationsWidget.src = "http://mcmwidgets.azurewebsites.net/widgets/relations-widget.html?imslp=usemockups";
            mapWidget.src = "http://mcmwidgets.azurewebsites.net/widgets/map-app.html?imslp=usemockups";

            function onMessageFromWidget(event) {
              const widget = widgets[event.data.widget];
              if (event.data.text === 'full-screen activated') {
                widget.style.height = '99vh';
                widget.style.width = '99vw';
                widget.style.position = 'fixed';
                widget.style.left = '0';
                widget.style.top = '0';
                widget.style.zIndex = '9999999';
              } else if (event.data.text === 'full-screen deactivated') {
                widget.style.height = '400px';
                widget.style.width = '100%';
                widget.style.position = 'inherit';
                widget.style.left = 'auto';
                widget.style.top = 'auto';
                widget.style.zIndex = 'auto';
              }
            }
            window.addEventListener("message", onMessageFromWidget, false);
          }
          startUpWidget();
        </script>
    </body>
</html>
